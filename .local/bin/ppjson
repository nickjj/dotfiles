#!/usr/bin/env bash
# View pretty printed JSON.
#
# Examples:
#   ppjson myfile.json  # contents of a file
#   ppjson              # contents of your clipboard
#   ppjson --indent 4   # contents of your clipboard with 4 spaces

set -o errexit
set -o pipefail
set -o nounset

file="${1:-}"

if [ -f "${file}" ]; then
  shift
  # shellcheck disable=SC2068
  jq ${@:-} <"${file}"
else
  # shellcheck disable=SC2068
  clip-paste | jq ${@:-}
fi
